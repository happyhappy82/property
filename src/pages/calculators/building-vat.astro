---
import CalcLayout from '../../layouts/CalcLayout.astro'
---

<CalcLayout title="부동산 건물분 부가세 계산기 - 부동산 트렌드 리뷰" description="건물과 토지 일괄 거래 시 건물분에 해당하는 부가세를 계산합니다.">
    <div class="mb-6">
      <a href="/calculators" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">&larr; 계산기 목록</a>
    </div>
    <h1 class="text-2xl font-bold mb-2 dark:text-white">부동산 건물분 부가세 계산기</h1>
    <p class="text-gray-600 dark:text-gray-400 mb-6 text-sm">부동산 건물분 부가세 계산기는 토지와 건물을 일괄 매매할 때 건물에 해당하는 부가가치세를 산출합니다. 매매가에서 토지분을 분리한 뒤 부동산 건물분 부가세를 자동으로 계산하여 세금 부담을 명확히 파악할 수 있습니다. 상가·오피스텔 등 부가세 과세 대상 부동산 거래 시 이 계산기로 건물분 부가세를 미리 확인해 보세요.</p>

    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 mb-6">
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">거래 총액</label>
          <div class="relative">
            <input type="text" id="totalPrice" placeholder="500,000,000"
              class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white pr-8" />
            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">원</span>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">토지 가격</label>
          <div class="relative">
            <input type="text" id="landPrice" placeholder="200,000,000"
              class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white pr-8" />
            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">원</span>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">건물 가격 (선택사항)</label>
          <div class="relative">
            <input type="text" id="buildingPrice" placeholder="자동 계산"
              class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white pr-8" />
            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">원</span>
          </div>
          <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">입력하지 않으면 거래총액 - 토지가로 자동 계산됩니다</p>
        </div>

        <button id="calcBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors">
          계산하기
        </button>
      </div>
    </div>

    <div id="error" class="hidden bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 p-3 rounded-lg mb-6">
      <p class="text-red-700 dark:text-red-400 text-sm" id="errorText"></p>
    </div>

    <div id="results" class="hidden space-y-4">
      <div class="bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-800 p-4">
        <h2 class="text-sm font-medium text-blue-800 dark:text-blue-300 mb-3">부가세 및 총액</h2>
        <div class="space-y-2">
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">부가세</span><span class="font-bold text-blue-700 dark:text-blue-300" id="vat"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">부가세 포함 총액</span><span class="font-bold text-blue-700 dark:text-blue-300" id="totalWithVat"></span></div>
        </div>
      </div>
      <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
        <h2 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">세부 내역</h2>
        <div class="space-y-2">
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">토지 가격</span><span class="dark:text-gray-200" id="landPriceDisplay"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">건물 가격</span><span class="dark:text-gray-200" id="buildingPriceDisplay"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">건물 비율</span><span class="dark:text-gray-200" id="buildingRatio"></span></div>
        </div>
      </div>
    </div>

    <div class="mt-6 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 space-y-4">
      <div class="flex items-center gap-2 text-blue-600 dark:text-blue-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
        <h3 class="text-sm font-semibold">참고 정보</h3>
      </div>
      <p class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed">건물과 토지를 일괄 거래하여 건물만의 가격이 불분명한 경우, 국세청의 「토지와 건물 등의 가액구분이 불분명한 경우 과세표준 안분계산방법 고시」를 따라 건물분에 해당하는 부가세액을 계산합니다.</p>
    </div>

    <div class="mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700">
      <p class="text-xs text-gray-500 dark:text-gray-400">
        ※ 본 계산기는 참고용이며, 실제 세금은 관할 세무서에 확인하시기 바랍니다.<br>
        ※ 부가세는 건물 가격의 10%로 계산됩니다.
      </p>
    </div>

    <!-- SEO 콘텐츠 섹션 -->
    <article class="mt-12 prose prose-sm dark:prose-invert max-w-none">
      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">건물분 부가세란? 토지·건물 일괄거래와 안분계산</h2>
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed mb-3">건물분 부가가치세란 부동산 거래 시 건물 가격에 대해 부과되는 10%의 부가가치세를 말합니다. 토지는 부가가치세가 면세되지만, 건물(상가, 오피스텔, 공장 등)은 과세 대상입니다. 따라서 토지와 건물을 함께 거래할 때 건물분에 해당하는 금액에 대해서만 부가가치세가 부과됩니다.</p>
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">토지와 건물을 일괄 거래하여 각각의 가격이 구분되지 않는 경우, 안분계산을 통해 건물 가격을 산정해야 합니다. 안분은 감정평가액 비율, 기준시가 비율 등의 방법으로 이루어지며, 이를 기준으로 건물분 부가가치세를 산출합니다. 매수인은 부가세를 포함하여 매도인에게 지급하고, 매도인은 이를 세무서에 납부합니다.</p>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">토지·건물 안분 방법</h2>
        <div class="overflow-x-auto">
          <table class="w-full text-sm border-collapse border border-gray-200 dark:border-gray-700">
            <thead>
              <tr class="bg-gray-100 dark:bg-gray-700">
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">안분 방법</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">적용 기준</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">우선순위</th>
              </tr>
            </thead>
            <tbody class="dark:text-gray-300">
              <tr><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">감정가액 비율</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">감정평가법인의 감정가액으로 토지·건물 비율 산정</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">1순위</td></tr>
              <tr class="bg-gray-50 dark:bg-gray-800/50"><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">기준시가 비율</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">국세청 기준시가(공시지가, 건물기준시가)로 비율 산정</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2순위</td></tr>
              <tr><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">장부가액 비율</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">장부상 토지·건물 가액 비율</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">3순위</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">건물분 부가세 계산 예시</h2>
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-5 border border-gray-200 dark:border-gray-700">
          <h3 class="text-base font-semibold dark:text-white mb-3">예시: 총 거래가 10억원 (토지 7억원, 건물 3억원)</h3>
          <div class="text-sm text-gray-700 dark:text-gray-300 space-y-1.5">
            <p>· 거래 총액: 10억원</p>
            <p>· 토지 가격: 7억원 (부가세 면세)</p>
            <p>· 건물 가격: 3억원 (부가세 과세)</p>
            <p>· 건물 비율: 3억원 / 10억원 = 30%</p>
            <p>· 건물분 부가세: 3억원 x 10% = 3,000만원</p>
            <p class="font-semibold dark:text-white mt-3 pt-3 border-t border-gray-200 dark:border-gray-600">· 부가세 포함 총액: <span class="text-blue-600 dark:text-blue-400">10억원 + 3,000만원 = 10억 3,000만원</span></p>
          </div>
        </div>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">건물분 부가세 자주 묻는 질문</h2>
        <div class="space-y-4">
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg" open>
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 주택 매매 시에도 부가세가 부과되나요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">주택(아파트, 빌라, 단독주택 등) 매매는 부가가치세가 면제됩니다. 부가세가 과세되는 부동산은 상가, 오피스텔, 공장, 창고 등 사업용 건물이며, 국민주택규모(전용면적 85m2) 이하 주택의 건설·공급도 면세됩니다. 다만, 오피스텔은 주거용으로 사용하더라도 건축법상 업무시설이므로 매매 시 부가세가 과세됩니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 상가 매매 시 부가세는 어떻게 처리하나요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">상가 매매 시 매수인은 건물분 가격의 10%를 부가세로 매도인에게 지급하고, 매도인은 세금계산서를 발행하여 세무서에 신고·납부합니다. 매수인이 사업자인 경우 매입세액 공제를 받을 수 있어 실질적인 부담이 줄어듭니다. 포괄양수도 방식으로 거래하면 부가세 부담 없이 사업을 이전할 수도 있습니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 안분 기준은 어떻게 정해지나요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">토지와 건물의 가액 안분은 국세청 고시에 따라 감정가액 비율을 우선 적용합니다. 감정가액이 없는 경우 기준시가(개별공시지가 + 건물기준시가) 비율을 적용합니다. 당사자 간 실지거래가액으로 합의한 경우에도, 세무서에서 기준시가 비율과 30% 이상 차이가 나면 기준시가 비율로 재계산할 수 있으므로 주의가 필요합니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 건물분 부가세 환급은 어떻게 받나요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">사업자가 상가 등 사업용 건물을 매입하면서 부가세를 부담한 경우, 매입세금계산서를 받아 부가가치세 신고 시 매입세액으로 공제받을 수 있습니다. 매출세액보다 매입세액이 큰 경우 차액을 환급받습니다. 단, 면세사업자이거나 세금계산서를 교부받지 못한 경우에는 매입세액 공제가 불가하며, 건물 취득 후 10년 이내에 면세사업으로 전환하면 공제받은 세액을 일부 반환해야 할 수 있습니다.</div>
          </details>
        </div>
      </section>
    </article>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        { "@type": "Question", "name": "주택 매매 시에도 부가세가 부과되나요?", "acceptedAnswer": { "@type": "Answer", "text": "주택(아파트, 빌라, 단독주택 등) 매매는 부가가치세가 면제됩니다. 부가세가 과세되는 부동산은 상가, 오피스텔, 공장, 창고 등 사업용 건물이며, 국민주택규모(전용면적 85m2) 이하 주택의 건설·공급도 면세됩니다. 다만, 오피스텔은 주거용으로 사용하더라도 건축법상 업무시설이므로 매매 시 부가세가 과세됩니다." } },
        { "@type": "Question", "name": "상가 매매 시 부가세는 어떻게 처리하나요?", "acceptedAnswer": { "@type": "Answer", "text": "상가 매매 시 매수인은 건물분 가격의 10%를 부가세로 매도인에게 지급하고, 매도인은 세금계산서를 발행하여 세무서에 신고·납부합니다. 매수인이 사업자인 경우 매입세액 공제를 받을 수 있어 실질적인 부담이 줄어듭니다. 포괄양수도 방식으로 거래하면 부가세 부담 없이 사업을 이전할 수도 있습니다." } },
        { "@type": "Question", "name": "안분 기준은 어떻게 정해지나요?", "acceptedAnswer": { "@type": "Answer", "text": "토지와 건물의 가액 안분은 국세청 고시에 따라 감정가액 비율을 우선 적용합니다. 감정가액이 없는 경우 기준시가(개별공시지가 + 건물기준시가) 비율을 적용합니다. 당사자 간 실지거래가액으로 합의한 경우에도, 세무서에서 기준시가 비율과 30% 이상 차이가 나면 기준시가 비율로 재계산할 수 있으므로 주의가 필요합니다." } },
        { "@type": "Question", "name": "건물분 부가세 환급은 어떻게 받나요?", "acceptedAnswer": { "@type": "Answer", "text": "사업자가 상가 등 사업용 건물을 매입하면서 부가세를 부담한 경우, 매입세금계산서를 받아 부가가치세 신고 시 매입세액으로 공제받을 수 있습니다. 매출세액보다 매입세액이 큰 경우 차액을 환급받습니다. 단, 면세사업자이거나 세금계산서를 교부받지 못한 경우에는 매입세액 공제가 불가하며, 건물 취득 후 10년 이내에 면세사업으로 전환하면 공제받은 세액을 일부 반환해야 할 수 있습니다." } }
      ]
    }
    </script>
</CalcLayout>

<script>
  const VAT_RATE = 0.1

  function formatNumber(num) {
    return num.toLocaleString('ko-KR')
  }

  function formatManWon(amount) {
    const abs = Math.abs(Math.round(amount))
    const sign = amount < 0 ? '-' : ''
    const eok = Math.floor(abs / 100000000)
    const man = Math.floor((abs % 100000000) / 10000)
    const rem = abs % 10000
    let r = sign
    if (eok > 0) { r += formatNumber(eok) + '억'; if (man > 0) r += ' ' + formatNumber(man) + '만'; if (rem > 0) r += ' ' + formatNumber(rem); r += '원' }
    else if (man > 0) { r += formatNumber(man) + '만'; if (rem > 0) r += ' ' + formatNumber(rem); r += '원' }
    else { r += formatNumber(abs) + '원' }
    return r
  }

  function roundToWon(amount) {
    return Math.round(amount)
  }

  function roundTo(value, decimals) {
    return Math.round(value * Math.pow(10, decimals)) / Math.pow(10, decimals)
  }

  function calculateBuildingVat(totalPrice, landPrice, buildingPriceInput) {
    const buildingPrice = buildingPriceInput > 0
      ? roundToWon(buildingPriceInput)
      : roundToWon(totalPrice - landPrice)

    if (buildingPrice < 0) {
      throw new Error('건물가는 0 이상이어야 합니다.')
    }

    if (landPrice + buildingPrice > totalPrice * 1.5) {
      throw new Error('토지가와 건물가의 합이 거래총액을 크게 초과합니다.')
    }

    const vat = roundToWon(buildingPrice * VAT_RATE)
    const buildingRatio = totalPrice > 0 ? roundTo((buildingPrice / totalPrice) * 100, 2) : 0
    const totalWithVat = roundToWon(totalPrice + vat)

    return {
      buildingPrice,
      landPrice,
      buildingRatio,
      vat,
      totalWithVat
    }
  }

  function setupNumberInput(el) {
    el.addEventListener('input', function() {
      const raw = this.value.replace(/[^0-9]/g, '')
      if (raw) { this.value = parseInt(raw).toLocaleString('ko-KR') }
      else { this.value = '' }
    })
  }

  setupNumberInput(document.getElementById('totalPrice'))
  setupNumberInput(document.getElementById('landPrice'))
  setupNumberInput(document.getElementById('buildingPrice'))

  document.getElementById('calcBtn').addEventListener('click', () => {
    const errorEl = document.getElementById('error')
    const resultsEl = document.getElementById('results')
    errorEl.classList.add('hidden')
    resultsEl.classList.add('hidden')

    const totalPrice = parseInt(document.getElementById('totalPrice').value.replace(/,/g, '')) || 0
    const landPrice = parseInt(document.getElementById('landPrice').value.replace(/,/g, '')) || 0
    const buildingPriceInput = parseInt(document.getElementById('buildingPrice').value.replace(/,/g, '')) || 0

    if (totalPrice <= 0) {
      document.getElementById('errorText').textContent = '거래 총액을 입력해주세요.'
      errorEl.classList.remove('hidden')
      return
    }

    try {
      const result = calculateBuildingVat(totalPrice, landPrice, buildingPriceInput)

      document.getElementById('vat').textContent = formatManWon(result.vat)
      document.getElementById('totalWithVat').textContent = formatManWon(result.totalWithVat)
      document.getElementById('landPriceDisplay').textContent = formatManWon(result.landPrice)
      document.getElementById('buildingPriceDisplay').textContent = formatManWon(result.buildingPrice)
      document.getElementById('buildingRatio').textContent = result.buildingRatio + '%'

      resultsEl.classList.remove('hidden')
    } catch (error) {
      document.getElementById('errorText').textContent = error.message
      errorEl.classList.remove('hidden')
    }
  })
</script>
