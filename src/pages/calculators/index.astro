---
import CalcLayout from '../../layouts/CalcLayout.astro'

const categories = [
  {
    name: '세금',
    calculators: [
      { title: '부동산 취득세 계산기', description: '부동산 매매 시 취득세 계산', href: '/calculators/acquisition-tax', icon: '🏠' },
      { title: '부동산 양도소득세 계산기', description: '부동산 양도 시 양도소득세 계산', href: '/calculators/transfer-tax', icon: '💰' },
      { title: '부동산 재산세 계산기', description: '부동산 보유 부동산의 재산세 계산', href: '/calculators/property-tax', icon: '📋' },
      { title: '부동산 종합부동산세 계산기', description: '부동산 고가 주택 종합부동산세 계산', href: '/calculators/comprehensive-tax', icon: '🏢' },
      { title: '부동산 보유세 통합 계산기', description: '부동산 재산세 + 종합부동산세 통합 계산', href: '/calculators/holding-tax', icon: '🏘️' },
      { title: '부동산 증여세 계산기', description: '부동산 증여 시 증여세 계산', href: '/calculators/gift-tax', icon: '🎁' },
      { title: '부동산 상속세 계산기', description: '부동산 상속 재산에 대한 상속세 계산', href: '/calculators/inheritance-tax', icon: '📜' },
      { title: '부동산 종합소득세 계산기', description: '부동산 종합소득세 간편 계산', href: '/calculators/income-tax', icon: '💰' },
      { title: '부동산 주택임대소득세 계산기', description: '부동산 주택 임대 소득세 계산', href: '/calculators/rental-income-tax', icon: '🏠' },
      { title: '부동산 인지세 계산기', description: '부동산 증서 발행 시 인지세 계산', href: '/calculators/stamp-tax', icon: '📜' },
      { title: '부동산 지역자원시설세 계산기', description: '부동산 소방분 지역자원시설세 계산', href: '/calculators/regional-tax', icon: '🏛️' },
      { title: '부동산 누진세 계산기', description: '부동산 누진세 구조 계산 및 속산표', href: '/calculators/progressive-tax', icon: '📊' },
      { title: '부동산 건물분 부가세 계산기', description: '부동산 토지+건물 일괄거래 부가세 안분', href: '/calculators/building-vat', icon: '🏗️' },
      { title: '부동산 착한 임대인 계산기', description: '부동산 임대료 인하 시 세제 혜택 계산', href: '/calculators/good-landlord', icon: '😊' },
    ]
  },
  {
    name: '대출',
    calculators: [
      { title: '대출/상환 계산기', description: '대출 상환금 및 최대 대출 가능액 계산', href: '/calculators/loan', icon: '🏦' },
      { title: 'DSR 계산기', description: '총부채원리금상환비율 계산', href: '/calculators/dsr', icon: '📈' },
      { title: 'DTI 계산기', description: '총부채상환비율 계산', href: '/calculators/dti', icon: '📉' },
      { title: 'LTV 계산기', description: '담보인정비율 계산', href: '/calculators/ltv', icon: '🏦' },
      { title: '최대 대출 가능액 계산기', description: 'LTV 기준 최대 대출액 계산', href: '/calculators/max-loan', icon: '💳' },
      { title: '경매 대출 계산기', description: '경매 낙찰 시 대출 한도 계산', href: '/calculators/foreclosure-loan', icon: '⚖️' },
      { title: '장래소득 계산기', description: 'DSR 장래소득증가율 계산', href: '/calculators/future-income', icon: '🔮' },
      { title: '중도상환수수료 계산기', description: '대출 조기상환 시 수수료 계산', href: '/calculators/early-repayment', icon: '⏰' },
      { title: '연체이자 계산기', description: '임대료 연체 이자 계산', href: '/calculators/overdue-interest', icon: '⚠️' },
      { title: '예적금 이자 계산기', description: '예금/적금 이자 수익 계산', href: '/calculators/savings-interest', icon: '🏧' },
    ]
  },
  {
    name: '임대차',
    calculators: [
      { title: '월세/전세 변환', description: '전세보증금과 월세 간 변환 계산', href: '/calculators/rent-convert', icon: '🔄' },
      { title: '임대료 인상 계산기', description: '임대료 5% 인상 계산', href: '/calculators/rent-increase', icon: '📈' },
      { title: '임대료 조정 계산기', description: '보증금/월세 조정 계산', href: '/calculators/rent-adjust', icon: '🔄' },
      { title: '간주임대료 계산기', description: '보증금 간주임대료 계산', href: '/calculators/deemed-rental', icon: '🏢' },
    ]
  },
  {
    name: '투자·수익',
    calculators: [
      { title: '부동산 투자 수익률 계산기', description: '부동산 투자 ROI 및 수익 분석', href: '/calculators/investment-return', icon: '📈' },
      { title: '부동산 임대수익률 계산기', description: '부동산 임대 수익률 및 순수익 계산', href: '/calculators/rental-yield', icon: '💹' },
      { title: '부동산 RTI 계산기', description: '부동산 임대소득 대비 이자비용 비율 계산', href: '/calculators/rti', icon: '📊' },
      { title: '부동산 추정소득 계산기', description: '부동산 금융회사 대출심사용 추정소득 계산', href: '/calculators/estimated-income', icon: '🔍' },
      { title: '부동산 재건축 연한 계산기', description: '부동산 재건축 가능 연한 계산', href: '/calculators/reconstruction', icon: '🏗️' },
    ]
  },
  {
    name: '경매',
    calculators: [
      { title: '경매신청비용 계산기', description: '경매 신청 시 필요한 비용 계산', href: '/calculators/auction-cost', icon: '🔨' },
      { title: '경매배당 계산기', description: '경매 배당 순위 및 금액 계산', href: '/calculators/auction-distribution', icon: '📋' },
      { title: '명도비용 계산기', description: '강제집행 명도비용 계산', href: '/calculators/eviction-cost', icon: '🚚' },
    ]
  },
  {
    name: '비용·수수료',
    calculators: [
      { title: '등기비용 계산기', description: '소유권이전 등기 비용 계산', href: '/calculators/registration-cost', icon: '📝' },
      { title: '법무사 보수 계산기', description: '법무사 등기 보수 및 수수료 계산', href: '/calculators/attorney-fee', icon: '⚖️' },
      { title: '국민주택채권 계산기', description: '주택채권 매입 및 할인 비용 계산', href: '/calculators/housing-bond', icon: '📑' },
      { title: '감정평가수수료 계산기', description: '감정평가 수수료 계산', href: '/calculators/appraisal-fee', icon: '📋' },
      { title: '중개수수료 계산기', description: '부동산 거래 중개보수(복비) 계산', href: '/calculators/brokerage-fee', icon: '🤝' },
    ]
  },
  {
    name: '건물·분석',
    calculators: [
      { title: '부동산 건폐율/용적률 계산기', description: '부동산 건폐율과 용적률 계산', href: '/calculators/building-ratio', icon: '📐' },
      { title: '부동산 건물기준시가 계산기', description: '부동산 국세청 기준 건물시가 계산', href: '/calculators/building-price', icon: '🏢' },
      { title: '부동산 대지지분 계산기', description: '부동산 대지지분 면적 계산', href: '/calculators/land-share', icon: '🗺️' },
      { title: '부동산 평당가격 계산기', description: '부동산 평당 및 ㎡당 가격 계산', href: '/calculators/unit-price', icon: '💲' },
      { title: '부동산 잔존가치 계산기', description: '부동산 건물 감가상각 후 잔존가치 계산', href: '/calculators/remaining-value', icon: '📉' },
    ]
  },
  {
    name: '유틸리티',
    calculators: [
      { title: '면적변환 계산기', description: '평/㎡/ft²/acre 면적 변환', href: '/calculators/area-convert', icon: '📏' },
      { title: '날짜 계산기', description: '두 날짜 차이 및 날짜 더하기/빼기', href: '/calculators/date-calc', icon: '📅' },
      { title: '상속지분 계산기', description: '민법상 법정상속분 계산', href: '/calculators/inheritance-share', icon: '👨‍👩‍👧‍👦' },
    ]
  },
]
---

<CalcLayout title="부동산 계산기 - 부동산 트렌드 리뷰" description="부동산 취득세, 양도소득세, 증여세, 상속세, 재산세, 종합부동산세, 중개수수료, 등기비용, 대출 상환, 투자 수익률 등 49종의 부동산 계산기를 무료로 이용하세요.">
    <h1 class="text-2xl font-bold mb-2 dark:text-white">부동산 계산기</h1>
    <p class="text-gray-600 dark:text-gray-400 mb-8">세금, 대출, 임대차, 투자, 경매, 비용까지 49종의 계산기를 한 곳에서 이용하세요.</p>

    {categories.map((category) => (
      <div class="mb-10">
        <h2 class="text-xl font-bold mb-4 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2">
          {category.name}
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          {category.calculators.map((calc) => (
            <a href={calc.href} class="block p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md hover:-translate-y-0.5 transition-all duration-200">
              <div class="text-2xl mb-2">{calc.icon}</div>
              <h3 class="font-bold text-base mb-1 dark:text-white">{calc.title}</h3>
              <p class="text-sm text-gray-600 dark:text-gray-400">{calc.description}</p>
            </a>
          ))}
        </div>
      </div>
    ))}

    <div class="mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700">
      <p class="text-xs text-gray-500 dark:text-gray-400">
        ※ 본 계산기는 참고용이며, 실제 세금 및 대출 조건은 관할 세무서 또는 금융기관에 확인하시기 바랍니다.
        세법 개정에 따라 세율이 변경될 수 있습니다.
      </p>
    </div>
</CalcLayout>

<script>
  const SCROLL_KEY = 'calcListScrollY';

  // 페이지 로드 시 저장된 스크롤 위치 복원
  const saved = sessionStorage.getItem(SCROLL_KEY);
  if (saved) {
    window.scrollTo(0, parseInt(saved, 10));
    sessionStorage.removeItem(SCROLL_KEY);
  }

  // 계산기 링크 클릭 시 스크롤 위치 저장
  document.querySelectorAll('a[href^="/calculators/"]').forEach(link => {
    link.addEventListener('click', () => {
      sessionStorage.setItem(SCROLL_KEY, String(window.scrollY));
    });
  });
</script>
