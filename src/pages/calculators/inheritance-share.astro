---
import CalcLayout from '../../layouts/CalcLayout.astro'
---

<CalcLayout title="부동산 상속지분 계산기 - 부동산 트렌드 리뷰" description="민법상 법정상속분을 계산하여 배우자와 자녀의 상속 지분을 계산합니다.">
    <div class="mb-6">
      <a href="/calculators" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">&larr; 계산기 목록</a>
    </div>
    <h1 class="text-2xl font-bold mb-2 dark:text-white">부동산 상속지분 계산기</h1>
    <p class="text-gray-600 dark:text-gray-400 mb-6 text-sm">부동산 상속지분 계산기를 활용하면 민법상 법정상속 비율에 따라 각 상속인의 지분을 정확히 산출할 수 있습니다. 배우자, 자녀 등 상속인 구성에 따라 부동산 상속지분이 어떻게 배분되는지 자동으로 계산합니다. 부동산 상속 협의 전 이 계산기로 법정 상속지분 기준을 먼저 확인해 보세요.</p>

    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 mb-6">
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">상속재산 총액</label>
          <div class="relative">
            <input type="text" id="totalAssets" placeholder="1,000,000,000"
              class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white pr-8" />
            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">원</span>
          </div>
        </div>

        <div class="flex items-center gap-2">
          <input type="checkbox" id="hasSpouse" class="rounded" />
          <label for="hasSpouse" class="text-sm dark:text-gray-200 cursor-pointer">배우자 있음</label>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">자녀 수</label>
          <input type="number" id="numberOfChildren" placeholder="2" min="0"
            class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white" />
        </div>

        <button id="calcBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors">
          계산하기
        </button>
      </div>
    </div>

    <div id="error" class="hidden bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 p-3 rounded-lg mb-6">
      <p class="text-red-700 dark:text-red-400 text-sm" id="errorText"></p>
    </div>

    <div id="results" class="hidden space-y-4">
      <div class="bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-800 p-4">
        <h2 class="text-sm font-medium text-blue-800 dark:text-blue-300 mb-3">법정상속분</h2>
        <div id="sharesContainer" class="space-y-2">
          <!-- Dynamic content -->
        </div>
      </div>
    </div>

    <div class="mt-6 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 space-y-4">
      <div class="flex items-center gap-2 text-blue-600 dark:text-blue-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
        <h3 class="text-sm font-semibold">참고 정보</h3>
      </div>
      <p class="text-sm text-gray-600 dark:text-gray-400">망자의 배우자, 자녀, 형제, 친척들을 기준으로 민법상 상속 지분을 계산합니다.</p>
      <div class="text-sm text-gray-600 dark:text-gray-400 mt-2">
        <p class="font-medium">민법상 법정상속분</p>
        <ul class="list-disc list-inside space-y-1 mt-1">
          <li>배우자와 자녀가 공동상속인인 경우: 배우자는 자녀 지분의 1.5배</li>
          <li>배우자만 있는 경우: 배우자가 전액 상속</li>
          <li>자녀만 있는 경우: 자녀들이 균등 분배</li>
          <li>자녀는 직계비속(손자녀 포함)을 의미합니다.</li>
        </ul>
      </div>
      <div class="text-xs text-gray-500 dark:text-gray-500 mt-3">
        <p>※ 실제 상속은 유언, 특별수익, 기여분 등에 따라 달라질 수 있습니다.</p>
        <p>※ 직계비속, 직계존속, 형제자매, 4촌 이내 방계혈족 순으로 상속순위가 정해집니다.</p>
      </div>
    </div>

    <div class="mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700">
      <p class="text-xs text-gray-500 dark:text-gray-400">
        ※ 본 계산기는 참고용이며, 실제 상속은 전문가와 상담하시기 바랍니다.<br>
        ※ 배우자와 자녀(직계비속)가 공동상속인인 경우만 계산합니다.
      </p>
    </div>

    <!-- SEO 콘텐츠 섹션 -->
    <article class="mt-12 prose prose-sm dark:prose-invert max-w-none">
      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">법정상속분과 상속순위 개요</h2>
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed mb-3">법정상속분이란 유언이 없는 경우 민법에서 정한 기준에 따라 상속인들에게 배분되는 상속재산의 비율을 말합니다. 민법 제1009조에 따르면 같은 순위의 상속인이 여러 명인 경우 그 상속분은 균등하며, 배우자는 직계비속 또는 직계존속과 공동으로 상속하는 경우 다른 상속인의 상속분에 5할(1.5배)을 가산합니다.</p>
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">상속순위는 민법 제1000조에 따라 1순위 직계비속(자녀, 손자녀), 2순위 직계존속(부모, 조부모), 3순위 형제자매, 4순위 4촌 이내 방계혈족 순으로 정해집니다. 배우자는 1순위 또는 2순위 상속인과 동순위로 공동상속하며, 1·2순위 상속인이 없는 경우 단독상속합니다. 또한 상속인이 될 직계비속이 상속개시 전에 사망한 경우 그 직계비속(손자녀)이 대습상속합니다.</p>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">상속순위 및 주요 사례별 상속분</h2>
        <div class="overflow-x-auto mb-6">
          <table class="w-full text-sm border-collapse border border-gray-200 dark:border-gray-700">
            <thead>
              <tr class="bg-gray-100 dark:bg-gray-700">
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">순위</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">상속인</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">배우자 공동상속 시 비율</th>
              </tr>
            </thead>
            <tbody class="dark:text-gray-300">
              <tr>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">1순위</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">직계비속 (자녀, 손자녀)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">배우자 1.5 : 자녀 각 1</td>
              </tr>
              <tr class="bg-gray-50 dark:bg-gray-800/50">
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2순위</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">직계존속 (부모, 조부모)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">배우자 1.5 : 직계존속 각 1</td>
              </tr>
              <tr>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">3순위</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">형제자매</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">배우자 단독상속</td>
              </tr>
              <tr class="bg-gray-50 dark:bg-gray-800/50">
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">4순위</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">4촌 이내 방계혈족</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">배우자 단독상속</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full text-sm border-collapse border border-gray-200 dark:border-gray-700">
            <thead>
              <tr class="bg-gray-100 dark:bg-gray-700">
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">사례</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">배우자</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">자녀 1</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">자녀 2</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">자녀 3</th>
              </tr>
            </thead>
            <tbody class="dark:text-gray-300">
              <tr>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">배우자 + 자녀 1명</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">3/5 (60%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2/5 (40%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">-</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">-</td>
              </tr>
              <tr class="bg-gray-50 dark:bg-gray-800/50">
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">배우자 + 자녀 2명</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">3/7 (약 42.86%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2/7 (약 28.57%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2/7 (약 28.57%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">-</td>
              </tr>
              <tr>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">배우자 + 자녀 3명</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">3/9 (약 33.33%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2/9 (약 22.22%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2/9 (약 22.22%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">2/9 (약 22.22%)</td>
              </tr>
              <tr class="bg-gray-50 dark:bg-gray-800/50">
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">자녀만 2명 (배우자 없음)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">-</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">1/2 (50%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">1/2 (50%)</td>
                <td class="border border-gray-200 dark:border-gray-600 px-3 py-2">-</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">상속지분 계산 예시</h2>
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-5 border border-gray-200 dark:border-gray-700">
          <h3 class="text-base font-semibold dark:text-white mb-3">예시: 상속재산 10억원, 배우자 + 자녀 2명</h3>
          <div class="text-sm text-gray-700 dark:text-gray-300 space-y-1.5">
            <p>· 상속재산 총액: 10억원</p>
            <p>· 상속인: 배우자 1명, 자녀 2명</p>
            <p>· 상속비율: 배우자 1.5 : 자녀1 1 : 자녀2 1 (합계 3.5)</p>
            <p>· 배우자: 10억 x (1.5 / 3.5) = 약 4억 2,857만원</p>
            <p>· 자녀 각각: 10억 x (1 / 3.5) = 약 2억 8,571만원</p>
            <p class="font-semibold dark:text-white mt-3 pt-3 border-t border-gray-200 dark:border-gray-600">· 결과: <span class="text-blue-600 dark:text-blue-400">배우자 약 4.29억원(3/7), 자녀 각 약 2.86억원(2/7)</span></p>
          </div>
        </div>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">상속지분 자주 묻는 질문</h2>
        <div class="space-y-4">
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg" open>
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 법정상속분이란 무엇인가요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">법정상속분은 피상속인(고인)이 유언을 남기지 않았을 때 민법에서 정한 비율에 따라 각 상속인에게 배분되는 상속재산의 몫을 말합니다. 민법 제1009조에 따라 같은 순위의 상속인은 균등한 비율로 상속받으며, 배우자는 다른 상속인보다 5할(50%)을 가산받습니다. 유언이 있더라도 유류분 범위 내에서는 법정상속분이 보장됩니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 배우자가 1.5배를 가산받는 이유는 무엇인가요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">민법 제1009조 제2항에서 배우자에게 5할 가산을 인정하는 이유는 배우자가 혼인 기간 동안 재산 형성에 기여한 공로를 인정하기 위함입니다. 배우자는 직계비속(1순위) 또는 직계존속(2순위)과 공동상속할 때 다른 상속인 지분의 1.5배를 받습니다. 예를 들어 자녀 2명과 공동상속 시 비율은 배우자 1.5 : 자녀1 1 : 자녀2 1, 즉 배우자가 3/7을 받게 됩니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 유류분이란 무엇인가요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">유류분은 피상속인의 유언이나 생전 증여에 의해 상속인의 상속분이 침해되었을 때 최소한 보장받을 수 있는 상속분입니다. 민법 제1112조에 따라 배우자와 직계비속은 법정상속분의 1/2, 직계존속과 형제자매는 법정상속분의 1/3이 유류분으로 보장됩니다. 유류분이 침해된 경우 유류분반환청구소송을 통해 권리를 행사할 수 있으며, 상속개시를 안 날로부터 1년, 상속개시일로부터 10년 내에 청구해야 합니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 상속포기와 한정승인의 차이는 무엇인가요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">상속포기는 상속인의 지위 자체를 포기하여 상속재산과 채무 모두를 물려받지 않는 것이며, 한정승인은 상속받은 재산의 한도 내에서만 채무를 변제하겠다는 것입니다. 두 가지 모두 상속개시 있음을 안 날로부터 3개월 이내에 가정법원에 신고해야 합니다. 상속포기를 하면 처음부터 상속인이 아닌 것으로 보아 다음 순위 상속인에게 상속권이 넘어가며, 한정승인은 채무가 재산보다 많을 때 유용한 방법입니다.</div>
          </details>
        </div>
      </section>
    </article>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "법정상속분이란 무엇인가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "법정상속분은 피상속인(고인)이 유언을 남기지 않았을 때 민법에서 정한 비율에 따라 각 상속인에게 배분되는 상속재산의 몫을 말합니다. 민법 제1009조에 따라 같은 순위의 상속인은 균등한 비율로 상속받으며, 배우자는 다른 상속인보다 5할(50%)을 가산받습니다."
          }
        },
        {
          "@type": "Question",
          "name": "배우자가 1.5배를 가산받는 이유는 무엇인가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "민법 제1009조 제2항에서 배우자에게 5할 가산을 인정하는 이유는 배우자가 혼인 기간 동안 재산 형성에 기여한 공로를 인정하기 위함입니다. 배우자는 직계비속(1순위) 또는 직계존속(2순위)과 공동상속할 때 다른 상속인 지분의 1.5배를 받습니다."
          }
        },
        {
          "@type": "Question",
          "name": "유류분이란 무엇인가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "유류분은 피상속인의 유언이나 생전 증여에 의해 상속인의 상속분이 침해되었을 때 최소한 보장받을 수 있는 상속분입니다. 민법 제1112조에 따라 배우자와 직계비속은 법정상속분의 1/2, 직계존속과 형제자매는 법정상속분의 1/3이 유류분으로 보장됩니다."
          }
        },
        {
          "@type": "Question",
          "name": "상속포기와 한정승인의 차이는 무엇인가요?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "상속포기는 상속인의 지위 자체를 포기하여 상속재산과 채무 모두를 물려받지 않는 것이며, 한정승인은 상속받은 재산의 한도 내에서만 채무를 변제하겠다는 것입니다. 두 가지 모두 상속개시 있음을 안 날로부터 3개월 이내에 가정법원에 신고해야 합니다."
          }
        }
      ]
    }
    </script>
</CalcLayout>

<script>
  function formatNumber(num) {
    return num.toLocaleString('ko-KR')
  }

  function formatManWon(amount) {
    const abs = Math.abs(Math.round(amount))
    const sign = amount < 0 ? '-' : ''
    const eok = Math.floor(abs / 100000000)
    const man = Math.floor((abs % 100000000) / 10000)
    const rem = abs % 10000
    let r = sign
    if (eok > 0) { r += formatNumber(eok) + '억'; if (man > 0) r += ' ' + formatNumber(man) + '만'; if (rem > 0) r += ' ' + formatNumber(rem); r += '원' }
    else if (man > 0) { r += formatNumber(man) + '만'; if (rem > 0) r += ' ' + formatNumber(rem); r += '원' }
    else { r += formatNumber(abs) + '원' }
    return r
  }

  function setupNumberInput(el) {
    el.addEventListener('input', function() {
      const raw = this.value.replace(/[^0-9]/g, '')
      if (raw) { this.value = parseInt(raw).toLocaleString('ko-KR') }
      else { this.value = '' }
    })
  }

  function calculateInheritanceShare(totalAssets, hasSpouse, numberOfChildren) {
    const shares = []

    if (!hasSpouse && numberOfChildren === 0) {
      throw new Error('상속인이 없습니다. 배우자 또는 자녀를 입력해주세요.')
    }

    if (hasSpouse && numberOfChildren === 0) {
      shares.push({
        heir: '배우자',
        shareRatio: 100,
        amount: Math.round(totalAssets),
      })
    } else if (!hasSpouse && numberOfChildren > 0) {
      const perChild = totalAssets / numberOfChildren
      const ratio = (100 / numberOfChildren).toFixed(2)
      for (let i = 1; i <= numberOfChildren; i++) {
        shares.push({
          heir: `자녀 ${i}`,
          shareRatio: parseFloat(ratio),
          amount: Math.round(perChild),
        })
      }
    } else {
      // 배우자 1.5배, 자녀 균등
      const totalShares = 1.5 + numberOfChildren
      const spouseShare = totalAssets * (1.5 / totalShares)
      const childShare = totalAssets * (1 / totalShares)

      shares.push({
        heir: '배우자',
        shareRatio: parseFloat(((1.5 / totalShares) * 100).toFixed(2)),
        amount: Math.round(spouseShare),
      })

      for (let i = 1; i <= numberOfChildren; i++) {
        shares.push({
          heir: `자녀 ${i}`,
          shareRatio: parseFloat(((1 / totalShares) * 100).toFixed(2)),
          amount: Math.round(childShare),
        })
      }
    }

    return { shares }
  }

  setupNumberInput(document.getElementById('totalAssets'))

  document.getElementById('calcBtn').addEventListener('click', () => {
    const errorEl = document.getElementById('error')
    const resultsEl = document.getElementById('results')
    errorEl.classList.add('hidden')
    resultsEl.classList.add('hidden')

    const totalAssets = parseInt(document.getElementById('totalAssets').value.replace(/,/g, '')) || 0
    const hasSpouse = document.getElementById('hasSpouse').checked
    const numberOfChildren = parseInt(document.getElementById('numberOfChildren').value) || 0

    if (totalAssets <= 0) {
      document.getElementById('errorText').textContent = '상속재산 총액을 입력해주세요.'
      errorEl.classList.remove('hidden')
      return
    }

    if (numberOfChildren < 0) {
      document.getElementById('errorText').textContent = '자녀 수는 0 이상이어야 합니다.'
      errorEl.classList.remove('hidden')
      return
    }

    try {
      const result = calculateInheritanceShare(totalAssets, hasSpouse, numberOfChildren)

      const container = document.getElementById('sharesContainer')
      container.innerHTML = ''

      result.shares.forEach(share => {
        const div = document.createElement('div')
        div.className = 'flex justify-between items-center'
        div.innerHTML = `
          <span class="text-sm dark:text-gray-300">${share.heir}</span>
          <div class="text-right">
            <span class="font-bold text-blue-700 dark:text-blue-300">${formatManWon(share.amount)}</span>
            <span class="text-xs text-gray-500 dark:text-gray-400 ml-2">(${formatNumber(share.shareRatio)}%)</span>
          </div>
        `
        container.appendChild(div)
      })

      resultsEl.classList.remove('hidden')
    } catch (error) {
      document.getElementById('errorText').textContent = error.message
      errorEl.classList.remove('hidden')
    }
  })
</script>
