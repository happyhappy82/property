---
import CalcLayout from '../../layouts/CalcLayout.astro'
---

<CalcLayout title="부동산 잔존가치 계산기 - 부동산 트렌드 리뷰" description="건물의 취득가액과 경과연수를 입력하여 감가상각 후 잔존가치를 계산합니다.">
    <div class="mb-6">
      <a href="/calculators" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">&larr; 계산기 목록</a>
    </div>
    <h1 class="text-2xl font-bold mb-2 dark:text-white">부동산 잔존가치 계산기</h1>
    <p class="text-gray-600 dark:text-gray-400 mb-6 text-sm">부동산 잔존가치 계산기로 건물의 감가상각 후 남은 가치를 정확하게 산출할 수 있습니다. 취득가액, 내용연수, 경과 기간을 입력하면 부동산 건물의 잔존가치를 자동으로 계산합니다. 양도세 산정이나 보험 가입 시 이 계산기를 활용하여 부동산 잔존가치를 미리 파악해 보세요.</p>

    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-5 mb-6">
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">취득가액 (신축가액)</label>
          <div class="relative">
            <input type="text" id="originalValue" placeholder="500,000,000"
              class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white pr-8" />
            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">원</span>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">건물 구조 (내용연수)</label>
          <select id="structureType" class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
            <option value="rc">철근콘크리트조 (50년)</option>
            <option value="brick">연와조/목조 (40년)</option>
            <option value="light-steel">경량철골조 (30년)</option>
            <option value="container">철파이프/컨테이너 (20년)</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1 dark:text-gray-200">경과연수</label>
          <div class="relative">
            <input type="number" id="elapsedYears" placeholder="10" min="0"
              class="w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white pr-8" />
            <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">년</span>
          </div>
        </div>

        <button id="calcBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors">
          계산하기
        </button>
      </div>
    </div>

    <div id="error" class="hidden bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 p-3 rounded-lg mb-6">
      <p class="text-red-700 dark:text-red-400 text-sm" id="errorText"></p>
    </div>

    <div id="results" class="hidden space-y-4">
      <div class="bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-800 p-4">
        <h2 class="text-sm font-medium text-blue-800 dark:text-blue-300 mb-3">잔존가치</h2>
        <div class="space-y-2">
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">잔존가치</span><span class="font-bold text-blue-700 dark:text-blue-300" id="remainingValue"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">잔존가치율</span><span class="font-medium dark:text-gray-200" id="remainingRate"></span></div>
        </div>
      </div>
      <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
        <h2 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">세부 내역</h2>
        <div class="space-y-2">
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">취득가액</span><span class="dark:text-gray-200" id="originalValueDisplay"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">내용연수</span><span class="dark:text-gray-200" id="usefulLife"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">경과연수</span><span class="dark:text-gray-200" id="elapsedYearsDisplay"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">감가상각누계</span><span class="dark:text-gray-200" id="depreciationAmount"></span></div>
          <div class="flex justify-between"><span class="text-sm dark:text-gray-300">감가상각률</span><span class="dark:text-gray-200" id="depreciationRate"></span></div>
        </div>
      </div>
    </div>

    <div class="mt-6 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 space-y-4">
      <div class="flex items-center gap-2 text-blue-600 dark:text-blue-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
        <h3 class="text-sm font-semibold">참고 정보</h3>
      </div>
      <p class="text-sm text-gray-600 dark:text-gray-400">「국세청 건물 기준시가 계산방법 고시」에 따른 경과연수별 잔가율을 적용하여 건물의 잔존 가치(감가상각된 가격)를 계산합니다.</p>
      <ul class="list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400">
        <li>I그룹(50년): 철골(철골철근)콘크리트조, 철근콘크리트조 등</li>
        <li>II그룹(40년): 연와조, 목조, 시멘트벽돌조 등</li>
        <li>III그룹(30년): 경량철골조, 시멘트블록조 등</li>
        <li>IV그룹(20년): 철파이프조, 컨테이너건물</li>
      </ul>
      <div class="text-sm text-gray-600 dark:text-gray-400 mt-2">
        <p class="font-medium">계산 공식 (정액법)</p>
        <p class="mt-1">감가상각률 = 경과연수 / 내용연수</p>
        <p>잔존가치 = 취득가액 × (1 - 감가상각률)</p>
        <p class="text-xs mt-1">※ 최소 잔존가치율 10% 적용</p>
      </div>
    </div>

    <div class="mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700">
      <p class="text-xs text-gray-500 dark:text-gray-400">
        ※ 본 계산기는 참고용이며, 실제 감가상각은 회계사 또는 세무사와 상담하시기 바랍니다.<br>
        ※ 정액법 기준으로 계산하며, 최소 잔존가치율 10%를 적용합니다.
      </p>
    </div>

    <!-- SEO 콘텐츠 섹션 -->
    <article class="mt-12 prose prose-sm dark:prose-invert max-w-none">
      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">건물 잔존가치란?</h2>
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed mb-3">잔존가치는 건물의 취득가액(신축가액)에서 경과 연수에 따른 감가상각을 차감한 후 남은 가치를 말합니다. 건물은 시간이 지남에 따라 물리적 노후화, 기능적 진부화 등으로 가치가 감소하며, 이를 체계적으로 반영하는 것이 감가상각입니다.</p>
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">감가상각 방법에는 매년 일정 금액을 상각하는 정액법과 매년 일정 비율을 상각하는 정률법이 있습니다. 부동산에서는 주로 정액법이 사용되며, 건물 구조별로 법정 내용연수가 정해져 있습니다. 잔존가치는 양도소득세 계산, 재산가치 평가, 보험금 산정 등에 활용됩니다.</p>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">건물 구조별 내용연수</h2>
        <div class="overflow-x-auto">
          <table class="w-full text-sm border-collapse border border-gray-200 dark:border-gray-700">
            <thead>
              <tr class="bg-gray-100 dark:bg-gray-700">
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">건물 구조</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">내용연수</th>
                <th class="border border-gray-200 dark:border-gray-600 px-3 py-2 text-left dark:text-white">잔존가율</th>
              </tr>
            </thead>
            <tbody class="dark:text-gray-300">
              <tr><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">철근콘크리트조 (RC)</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">40년</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">5%</td></tr>
              <tr class="bg-gray-50 dark:bg-gray-800/50"><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">철골조</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">30년</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">5%</td></tr>
              <tr><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">블록조 / 벽돌조</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">25년</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">5%</td></tr>
              <tr class="bg-gray-50 dark:bg-gray-800/50"><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">목조</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">20년</td><td class="border border-gray-200 dark:border-gray-600 px-3 py-2">5%</td></tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">잔존가치 계산 예시</h2>
        <div class="bg-gray-50 dark:bg-gray-800/50 rounded-lg p-5 border border-gray-200 dark:border-gray-700">
          <h3 class="text-base font-semibold dark:text-white mb-3">예시: 취득가액 5억원, 철근콘크리트조, 15년 경과</h3>
          <div class="text-sm text-gray-700 dark:text-gray-300 space-y-1.5">
            <p>· 취득가액: 5억원 (500,000,000원)</p>
            <p>· 건물 구조: 철근콘크리트조 (내용연수 40년)</p>
            <p>· 경과연수: 15년</p>
            <p>· 감가상각률 = (1 - 잔존가율) x 경과연수 / 내용연수 = 0.95 x 15/40 = 35.625%</p>
            <p>· 감가상각 누계액 = 5억 x 35.625% = 178,125,000원</p>
            <p class="font-semibold dark:text-white mt-3 pt-3 border-t border-gray-200 dark:border-gray-600">· 결과: <span class="text-blue-600 dark:text-blue-400">잔존가치 = 5억 - 1억 7,812만원 = 약 3억 2,188만원 (잔존가치율 64.375%)</span></p>
          </div>
        </div>
      </section>

      <section class="mb-10">
        <h2 class="text-xl font-bold dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2 mb-4">잔존가치 자주 묻는 질문</h2>
        <div class="space-y-4">
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg" open>
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 감가상각이란 무엇인가요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">감가상각은 건물 등 고정자산의 가치가 시간이 지남에 따라 감소하는 것을 회계적으로 반영하는 절차입니다. 건물은 사용과 노후화로 인해 물리적·기능적 가치가 줄어들며, 이를 내용연수에 걸쳐 체계적으로 비용화합니다. 세무상 건물의 양도차익을 계산하거나 임대소득 필요경비를 산정할 때 감가상각이 적용됩니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 잔존가율이란 무엇인가요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">잔존가율은 내용연수가 모두 경과한 후에도 남아 있는 최소한의 가치 비율입니다. 일반적으로 건물의 잔존가율은 취득가액의 5%로 설정됩니다. 이는 내용연수가 다 지나더라도 건물이 일정한 잔여 가치(해체 가치, 잔재 가치 등)를 보유한다는 것을 의미합니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 정액법과 정률법의 차이는 무엇인가요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">정액법은 매년 동일한 금액을 감가상각하는 방법으로, 계산이 간편하고 예측이 쉽습니다. 정률법은 매년 잔존 장부가액에 일정 비율을 곱하여 상각하는 방법으로, 초기에 감가상각이 크고 후기로 갈수록 줄어듭니다. 부동산(건물)의 경우 세법상 정액법이 주로 적용됩니다.</div>
          </details>
          <details class="group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
            <summary class="flex items-center justify-between cursor-pointer px-4 py-3 font-medium dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg">
              <span>Q. 건물 잔존가치는 어디에 활용되나요?</span>
              <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </summary>
            <div class="px-4 pb-3 text-sm text-gray-700 dark:text-gray-300">건물 잔존가치는 양도소득세 산정 시 건물분 취득가액을 환산하거나, 임대소득세 계산 시 필요경비(감가상각비)를 산출하는 데 활용됩니다. 또한 화재보험 등 보험금 산정, 재산분할 시 건물 가치 평가, 재건축·리모델링 판단 기준으로도 사용됩니다.</div>
          </details>
        </div>
      </section>
    </article>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        { "@type": "Question", "name": "감가상각이란 무엇인가요?", "acceptedAnswer": { "@type": "Answer", "text": "감가상각은 건물 등 고정자산의 가치가 시간이 지남에 따라 감소하는 것을 회계적으로 반영하는 절차입니다. 건물은 사용과 노후화로 인해 물리적·기능적 가치가 줄어들며, 이를 내용연수에 걸쳐 체계적으로 비용화합니다. 세무상 건물의 양도차익을 계산하거나 임대소득 필요경비를 산정할 때 감가상각이 적용됩니다." } },
        { "@type": "Question", "name": "잔존가율이란 무엇인가요?", "acceptedAnswer": { "@type": "Answer", "text": "잔존가율은 내용연수가 모두 경과한 후에도 남아 있는 최소한의 가치 비율입니다. 일반적으로 건물의 잔존가율은 취득가액의 5%로 설정됩니다. 이는 내용연수가 다 지나더라도 건물이 일정한 잔여 가치(해체 가치, 잔재 가치 등)를 보유한다는 것을 의미합니다." } },
        { "@type": "Question", "name": "정액법과 정률법의 차이는 무엇인가요?", "acceptedAnswer": { "@type": "Answer", "text": "정액법은 매년 동일한 금액을 감가상각하는 방법으로, 계산이 간편하고 예측이 쉽습니다. 정률법은 매년 잔존 장부가액에 일정 비율을 곱하여 상각하는 방법으로, 초기에 감가상각이 크고 후기로 갈수록 줄어듭니다. 부동산(건물)의 경우 세법상 정액법이 주로 적용됩니다." } },
        { "@type": "Question", "name": "건물 잔존가치는 어디에 활용되나요?", "acceptedAnswer": { "@type": "Answer", "text": "건물 잔존가치는 양도소득세 산정 시 건물분 취득가액을 환산하거나, 임대소득세 계산 시 필요경비(감가상각비)를 산출하는 데 활용됩니다. 또한 화재보험 등 보험금 산정, 재산분할 시 건물 가치 평가, 재건축·리모델링 판단 기준으로도 사용됩니다." } }
      ]
    }
    </script>
</CalcLayout>

<script>
  const USEFUL_LIFE = {
    rc: 50,
    brick: 40,
    'light-steel': 30,
    container: 20,
  }

  const MINIMUM_RESIDUAL_RATE = 0.1

  function formatNumber(num) {
    return num.toLocaleString('ko-KR')
  }

  function formatManWon(amount) {
    const abs = Math.abs(Math.round(amount))
    const sign = amount < 0 ? '-' : ''
    const eok = Math.floor(abs / 100000000)
    const man = Math.floor((abs % 100000000) / 10000)
    const rem = abs % 10000
    let r = sign
    if (eok > 0) { r += formatNumber(eok) + '억'; if (man > 0) r += ' ' + formatNumber(man) + '만'; if (rem > 0) r += ' ' + formatNumber(rem); r += '원' }
    else if (man > 0) { r += formatNumber(man) + '만'; if (rem > 0) r += ' ' + formatNumber(rem); r += '원' }
    else { r += formatNumber(abs) + '원' }
    return r
  }

  function setupNumberInput(el) {
    el.addEventListener('input', function() {
      const raw = this.value.replace(/[^0-9]/g, '')
      if (raw) { this.value = parseInt(raw).toLocaleString('ko-KR') }
      else { this.value = '' }
    })
  }

  function calculateRemainingValue(originalValue, elapsedYears, structureType) {
    const usefulLife = USEFUL_LIFE[structureType]

    if (elapsedYears > usefulLife) {
      throw new Error(`경과연수는 내용연수 ${usefulLife}년을 초과할 수 없습니다.`)
    }

    const depreciationRate = elapsedYears / usefulLife
    let remainingValue = Math.round(originalValue * (1 - depreciationRate))

    const minimumValue = Math.round(originalValue * MINIMUM_RESIDUAL_RATE)
    if (remainingValue < minimumValue) {
      remainingValue = minimumValue
    }

    const depreciationAmount = originalValue - remainingValue

    return {
      originalValue,
      usefulLife,
      depreciationAmount,
      remainingValue,
      depreciationRate: (depreciationRate * 100).toFixed(2),
      remainingRate: ((remainingValue / originalValue) * 100).toFixed(2),
    }
  }

  setupNumberInput(document.getElementById('originalValue'))

  document.getElementById('calcBtn').addEventListener('click', () => {
    const errorEl = document.getElementById('error')
    const resultsEl = document.getElementById('results')
    errorEl.classList.add('hidden')
    resultsEl.classList.add('hidden')

    const originalValue = parseInt(document.getElementById('originalValue').value.replace(/,/g, '')) || 0
    const elapsedYears = parseInt(document.getElementById('elapsedYears').value) || 0
    const structureType = document.getElementById('structureType').value

    if (originalValue <= 0) {
      document.getElementById('errorText').textContent = '취득가액을 입력해주세요.'
      errorEl.classList.remove('hidden')
      return
    }

    if (elapsedYears < 0) {
      document.getElementById('errorText').textContent = '경과연수는 0 이상이어야 합니다.'
      errorEl.classList.remove('hidden')
      return
    }

    try {
      const result = calculateRemainingValue(originalValue, elapsedYears, structureType)

      document.getElementById('remainingValue').textContent = formatManWon(result.remainingValue)
      document.getElementById('remainingRate').textContent = result.remainingRate + '%'
      document.getElementById('originalValueDisplay').textContent = formatManWon(result.originalValue)
      document.getElementById('usefulLife').textContent = result.usefulLife + '년'
      document.getElementById('elapsedYearsDisplay').textContent = elapsedYears + '년'
      document.getElementById('depreciationAmount').textContent = formatManWon(result.depreciationAmount)
      document.getElementById('depreciationRate').textContent = result.depreciationRate + '%'

      resultsEl.classList.remove('hidden')
    } catch (error) {
      document.getElementById('errorText').textContent = error.message
      errorEl.classList.remove('hidden')
    }
  })
</script>
